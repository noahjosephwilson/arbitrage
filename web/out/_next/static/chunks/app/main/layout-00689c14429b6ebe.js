(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7737],{983:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var r=n(5155),o=n(5695),a=n(2115),i=n(2248);function s(e){let{children:t}=e,[n,s]=(0,a.useState)(!0),[l,c]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{!async function(){try{let e=await (0,i.H)();console.log("Confirmed user signed in:",e),c(!0)}catch(e){console.log("No confirmed user found, redirecting..."),(0,o.redirect)("/registration/signup")}finally{s(!1)}}()},[]),n)?(0,r.jsx)("div",{children:"Loading..."}):l?t:null}},1441:(e,t,n)=>{"use strict";n.d(t,{default:()=>b});var r=n(5155),o=n(2115),a=n(6874),i=n.n(a),s=n(8242),l=n(2515),c=n(5695),u=n(4845),d=n.n(u),h=n(2082);let m=e=>{let{user:t,onClose:n,handleAddFunds:o}=e,a=async()=>{try{await (0,h.C)({global:!0}),console.log("User signed out successfully.");try{let e=await getCurrentUser();console.log("User still signed in after logout:",e)}catch(e){console.log("No user signed in after logout (expected):",e)}window.location.href="/landing"}catch(e){console.error("Error signing out:",e)}},s=(0,r.jsxs)("svg",{className:d().trophyIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M2 5h4v7a4 4 0 0 1-4-4V5"}),(0,r.jsx)("path",{d:"M22 5h-4v7a4 4 0 0 0 4-4V5"}),(0,r.jsx)("path",{d:"M18 10a6 6 0 0 1-12 0V5h12z"}),(0,r.jsx)("path",{d:"M12 15v7"}),(0,r.jsx)("path",{d:"M9 22h6"})]}),l=(0,r.jsxs)("svg",{className:d().plusCircleIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),(0,r.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]}),c=(0,r.jsxs)("svg",{className:d().giftIcon,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("polyline",{points:"20 12 20 22 4 22 4 12"}),(0,r.jsx)("rect",{x:"2",y:"7",width:"20",height:"5"}),(0,r.jsx)("line",{x1:"12",y1:"22",x2:"12",y2:"7"}),(0,r.jsx)("path",{d:"M12 7h-2a2 2 0 1 1 2-2v2z"}),(0,r.jsx)("path",{d:"M12 7h2a2 2 0 1 0-2-2v2z"})]}),u=(e,t)=>{let o=(0,r.jsxs)("div",{className:d().topItem,children:[(0,r.jsx)("div",{className:d().iconCircle,children:e.icon}),(0,r.jsx)("span",{className:d().topItemLabel,children:e.label})]});return e.onClick?(0,r.jsx)("button",{className:d().topRowButton,onClick:()=>{e.onClick(),n()},children:o},t):(0,r.jsx)(i(),{href:e.link,className:d().topRowButton,onClick:n,children:o},t)},m=(e,t)=>e.onClick?(0,r.jsx)("button",{className:d().menuItem,onClick:()=>{e.onClick(),n()},children:e.label},t):e.link?(0,r.jsx)(i(),{href:e.link,className:d().menuItem,onClick:n,children:e.label},t):(0,r.jsx)("button",{className:d().menuItem,onClick:n,children:e.label},t);return(0,r.jsxs)("div",{className:d().submenu,children:[(0,r.jsx)("div",{className:d().topRow,children:[{label:"Leaderboard",icon:s,link:"/leaderboard"},{label:"Add funds",icon:l,onClick:o},{label:"Invite friends",icon:c,link:"/invite"}].map((e,t)=>u(e,t))}),(0,r.jsx)("hr",{className:d().divider}),(0,r.jsx)("div",{className:d().bottomList,children:[{label:"Account & security",link:"/account"},{label:"Your activity",link:"/activity"},{label:"Transfers",link:"/transfers"},{label:"Documents",link:"/documents"},{label:"API Docs",link:"/api-docs"},{label:"Settings",link:"/settings"},{label:"Help",link:"/help"},{label:"Log out",onClick:a}].map((e,t)=>m(e,t))})]})};var _=n(9171),v=n.n(_);let b=()=>{let[e,t]=(0,o.useState)(""),[n,a]=(0,o.useState)(!1),u=(0,c.useRouter)(),d=(0,o.useRef)(null);(0,o.useEffect)(()=>{function e(e){d.current&&!d.current.contains(e.target)&&a(!1)}return n?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]);let h=()=>{u.push("/add-funds"),a(!1)};return(0,r.jsx)("nav",{className:v().navbar,children:(0,r.jsxs)("div",{className:v().navbarContent,children:[(0,r.jsxs)("div",{className:v().leftSection,children:[(0,r.jsx)(i(),{href:"/main/logo",children:(0,r.jsx)("span",{className:v().logo,children:"Arbitrage"})}),(0,r.jsx)("div",{className:v().navLinksContainer,children:(0,r.jsxs)("ul",{className:v().navLinks,children:[(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:"/main/markets",onClick:e=>{e.preventDefault(),u.push("/main/markets")},children:"Markets"})}),(0,r.jsx)("li",{children:(0,r.jsx)(i(),{href:"/main/portfolio/positions",children:"Portfolio"})})]})})]}),(0,r.jsxs)("div",{className:v().rightSection,children:[(0,r.jsxs)("div",{className:v().searchContainer,children:[(0,r.jsx)(s.fUO,{className:v().searchIcon}),(0,r.jsx)("input",{type:"text",placeholder:"Search markets",className:v().searchInput,value:e,onChange:e=>t(e.target.value)}),e&&(0,r.jsx)(s.zhF,{className:v().clearIcon,onClick:()=>t("")})]}),(0,r.jsx)("div",{className:v().authButtons,children:(0,r.jsx)("button",{onClick:h,className:v().addFundsBtn,children:"Add Funds"})}),(0,r.jsxs)("div",{className:v().hamburgerContainer,children:[(0,r.jsx)(i(),{href:"/leaderboard",children:(0,r.jsx)("div",{className:v().iconButton,children:(0,r.jsx)(l.ju$,{className:v().leaderboardIcon})})}),(0,r.jsxs)("div",{className:v().hamburgerWrapper,ref:d,children:[(0,r.jsx)("div",{className:v().iconButton,onClick:()=>a(!n),children:(0,r.jsx)(s.mu4,{className:v().hamburgerIcon})}),n&&(0,r.jsx)(m,{onClose:()=>a(!1),handleAddFunds:h})]})]})]})]})})}},2082:(e,t,n)=>{"use strict";n.d(t,{C:()=>B});var r=n(9293),o=n(7648),a=n(319);function i(){return o.H.Auth.clearCredentials()}var s=n(9414),l=n(8785),c=n(6199),u=n(2684),d=n(5199),h=n(4251),m=n(4572),_=n(9492),v=n(2193);n(670);let b=async e=>{await e.clearOAuthData(),m.o.clearTokens(),await i(),s.YZ.dispatch("auth",{event:"signedOut"},"Auth",s.U9)},f=async e=>{window?.location&&(window.location.href=e.replace("http://","https://"))};var p=n(2224);let g=e=>e.startsWith(String((window.location.origin+window.location.pathname)??"/")),j=e=>e.includes(String(window.location.hostname)),k=e=>e.startsWith("http://"),x=e=>e.startsWith("https://"),y=async(e,t=!1,n)=>{(0,l.G6)(e);let{loginWith:r,userPoolClientId:o}=e,{domain:a,redirectSignOut:i}=r.oauth,s=function(e,t){if(t){let n=e?.find(e=>e===t);if(!n)throw p.jK;return n}{let t=e?.find(g)??e?.find(j),n=e?.find(x)??e?.find(k);if(t)return t;if(n)throw p.$6;throw p.RW}}(i,n);return f(`https://${a}/logout?${Object.entries({client_id:o,logout_uri:encodeURIComponent(s)}).map(([e,t])=>`${e}=${t}`).join("&")}`)},w=async(e,t,n,r)=>{let{isOAuthSignIn:o}=await t.loadOAuthSignIn(),a=await n.getOAuthMetadata();if(await b(t),o||a?.oauthSignIn)return y(e,!1,r)};var C=n(2954),N=n(6271),O=n(3540),I=n(6869),S=n(5720);let A=e=>(0,C.A)(N.e,(0,O._)("RevokeToken"),(0,I.T)(),{...S.C,...e}),L=e=>(0,C.A)(N.e,(0,O._)("GlobalSignOut"),(0,I.T)(),{...S.C,...e});var E=n(12);let P=new r.C("Auth");async function B(e){let t,n=o.H.getConfig().Auth?.Cognito;(0,l.$y)(n),e?.global?await T(n):await R(n);try{(0,l.G6)(n),t=!0}catch(e){t=!1}if(t){let t=new h.S(a.ZL);t.setAuthConfig(n);let{type:r}=await w(n,t,m.o,e?.oauth?.redirectUrl)??{};if("error"===r)throw new d.l({name:p.mh,message:"An error occurred when attempting to log out from OAuth provider."})}else m.o.clearTokens(),await i(),s.YZ.dispatch("auth",{event:"signedOut"},"Auth",s.U9)}async function R(e){try{let{userPoolEndpoint:t,userPoolId:n,userPoolClientId:r}=e,o=await m.o.getTokenStore().loadTokens();if((0,v.X4)(o),M(o.accessToken)){let e=A({endpointResolver:(0,E.o)({endpointOverride:t})});await e({region:(0,_.J)(n),userAgentValue:(0,u.A)(c.BM.SignOut)},{ClientId:r,Token:o.refreshToken})}}catch(e){P.debug("Client signOut error caught but will proceed with token removal")}}async function T(e){try{let{userPoolEndpoint:t,userPoolId:n}=e,r=await m.o.getTokenStore().loadTokens();(0,v.H0)(r);let o=L({endpointResolver:(0,E.o)({endpointOverride:t})});await o({region:(0,_.J)(n),userAgentValue:(0,u.A)(c.BM.SignOut)},{AccessToken:r.accessToken.toString()})}catch(e){P.debug("Global signOut error caught but will proceed with token removal")}}let M=e=>!!e?.payload?.origin_jti},2248:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(7648),o=n(8785),a=n(2193);let i=async e=>{var t;let n=e.getConfig().Auth?.Cognito;(0,o.$y)(n);let r=await e.Auth.getTokens({forceRefresh:!1});(0,a.H0)(r);let{"cognito:username":i,sub:s}=r.idToken?.payload??{},l={username:i,userId:s},c=(t=r,t?.signInDetails);return c&&(l.signInDetails=c),l},s=async()=>i(r.H)},2684:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(8800),o=n(6199);let a=(e,t)=>(0,r.fE)({category:o.b7.Auth,action:e,...t})},3229:e=>{e.exports={footerContainer:"Footer_footerContainer__4Q_Sb",footerTop:"Footer_footerTop__GfOmM",footerColumn:"Footer_footerColumn__tFrGv",leftColumn:"Footer_leftColumn__u3Jog",centerColumn:"Footer_centerColumn__V1KsQ",rightColumn:"Footer_rightColumn__0RfZ8",footerTitle:"Footer_footerTitle__jO4d1",footerList:"Footer_footerList__kdzke",footerBottom:"Footer_footerBottom__iSt1B",disclaimer:"Footer_disclaimer__16MRO"}},4436:(e,t,n)=>{"use strict";n.d(t,{k5:()=>u});var r=n(2115),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=r.createContext&&r.createContext(o),i=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){var r,o,a;r=e,o=t,a=n[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e){return t=>r.createElement(d,s({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,n)=>r.createElement(t.tag,c({key:n},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var n,{attr:o,size:a,title:l}=e,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i),d=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,u,{className:n,style:c(c({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==a?r.createElement(a.Consumer,null,e=>t(e)):t(o)}},4583:e=>{e.exports={header:"layout_header__cRmCO",main:"layout_main__iG_Z8"}},4845:e=>{e.exports={submenu:"Submenu_submenu__Hdjuf",topRow:"Submenu_topRow__2EPRV",topItem:"Submenu_topItem__jOwdC",iconCircle:"Submenu_iconCircle__4Pb7Z",trophyIcon:"Submenu_trophyIcon__g8s4C",plusCircleIcon:"Submenu_plusCircleIcon__sMDc6",giftIcon:"Submenu_giftIcon__jZwJu",topItemLabel:"Submenu_topItemLabel__5IEo1",topRowButton:"Submenu_topRowButton__Mz5vM",divider:"Submenu_divider__klORj",bottomList:"Submenu_bottomList__E_M6n",menuItem:"Submenu_menuItem__4m3hu"}},8569:(e,t,n)=>{Promise.resolve().then(n.bind(n,983)),Promise.resolve().then(n.t.bind(n,3229,23)),Promise.resolve().then(n.t.bind(n,4583,23)),Promise.resolve().then(n.bind(n,1441))},9171:e=>{e.exports={navbar:"Navbar_navbar__DAx5F",navbarContent:"Navbar_navbarContent__lODOA",leftSection:"Navbar_leftSection__ZtEjS",logo:"Navbar_logo__MD71P",navLinksContainer:"Navbar_navLinksContainer__hIqMO",navLinks:"Navbar_navLinks__fJxQ2",rightSection:"Navbar_rightSection__DZ_nM",searchContainer:"Navbar_searchContainer__lq__D",searchIcon:"Navbar_searchIcon__j9AyC",clearIcon:"Navbar_clearIcon__oJ_RD",searchInput:"Navbar_searchInput__l4DXx",authButtons:"Navbar_authButtons__L6VLs",addFundsBtn:"Navbar_addFundsBtn__EDd7_",hamburgerContainer:"Navbar_hamburgerContainer__9z_r_",hamburgerWrapper:"Navbar_hamburgerWrapper__SZMgj",iconButton:"Navbar_iconButton__jyR__",leaderboardIcon:"Navbar_leaderboardIcon__X5AGY",hamburgerIcon:"Navbar_hamburgerIcon__7_N3V"}}},e=>{var t=t=>e(e.s=t);e.O(0,[7619,3380,5479,3320,4572,7244,8441,1684,7358],()=>t(8569)),_N_E=e.O()}]);